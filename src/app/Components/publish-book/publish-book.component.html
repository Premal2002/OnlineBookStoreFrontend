<header>
  <app-common-navbar [publisherNav]=true [customerNav]=false [adminNav]=false></app-common-navbar>
</header>

<div class="container-fluid back pb-4">
  <div class="row justify-content-center">
    <div class="col-md-5">
      <div class="card mt-5">
        <div class="card-body">
          <h2 class="text-center mb-4">Publish New Book</h2>
          <form (ngSubmit)="onSubmit()" #bookForm="ngForm">
            <div class="form-group">
              <label for="pId">Publisher ID</label>
              <input type="number" class="form-control" id="pId" name="pId" [(ngModel)]="book.pId" readonly required>
              <small *ngIf="bookForm.controls['pId'].invalid && bookForm.controls['pId'].touched" class="text-danger">Publisher ID is required.</small>
            </div>
            <div class="form-group">
              <label for="bTitle">Title</label>
              <input type="text" class="form-control" id="bTitle" name="bTitle" [(ngModel)]="book.bTitle" placeholder="Enter Title" required>
              <small *ngIf="bookForm.controls['bTitle'].invalid && bookForm.controls['bTitle'].touched" class="text-danger">Title is required.</small>
            </div>
            <div class="form-group">
              <label for="bDesc">Description</label>
              <textarea class="form-control" id="bDesc" name="bDesc" rows="3" [(ngModel)]="book.bDesc" placeholder="Enter Description" required></textarea>
              <small *ngIf="bookForm.controls['bDesc'].invalid && bookForm.controls['bDesc'].touched" class="text-danger">Description is required.</small>
            </div>
            <div class="form-group">
              <label for="bCategory">Category</label>
              <select class="form-control" id="bCategory" [(ngModel)]="book.bCategory" name="bCategory" required>
                <option value="" disabled selected>Select Category</option>
                <option value="fiction">Fiction</option>
                <option value="non-fiction">Non-Fiction</option>
                <option value="childrens">Childrens</option>
                <option value="educational">Educational</option>
                <option value="music">Music</option>
                <option value="manga">Manga</option>
              </select>
              <small *ngIf="bookForm.controls['bCategory'].invalid && bookForm.controls['bCategory'].touched" class="text-danger">Category is required.</small>
            </div>
            <div class="form-group">
              <label for="bPrice">Price</label>
              <input type="number" class="form-control" id="bPrice" name="bPrice" [(ngModel)]="book.bPrice" placeholder="Enter Price" required min="0" max="2000">
              <small *ngIf="bookForm.controls['bPrice'].invalid && bookForm.controls['bPrice'].touched" class="text-danger">Price is required and must be in range(0-2000).</small>
            </div>
            <div class="form-group">
              <label for="bQuantity">Quantity</label>
              <input type="number" class="form-control" id="bQuantity" name="bQuantity" [(ngModel)]="book.bQuantity" placeholder="Enter Quantity" required min="5" max="100">
              <small *ngIf="bookForm.controls['bQuantity'].invalid && bookForm.controls['bQuantity'].touched" class="text-danger">Quantity is required and cannot be less than 5 or greater than 100.</small>
            </div>
            <div class="form-group">
              <label for="bImgPath">Image Path</label>
              <input type="text" class="form-control" id="bImgPath" name="bImgPath" [(ngModel)]="book.bImgPath" placeholder="Enter Image Path" required maxlength="2048">
              <small *ngIf="bookForm.controls['bImgPath'].invalid && bookForm.controls['bImgPath'].touched" class="text-danger">Image Path is required and must not exceed 2048 characters.</small>
            </div>
            <button type="submit" class="btn btn-warning btn-block" [disabled]="!bookForm.form.valid">Publish</button>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>

<app-footer></app-footer>
